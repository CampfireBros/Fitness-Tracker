<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Body Fat Calculator</title>

    <script src="../libraries/jquery/jquery-2.1.3.min.js"></script>
    <script src="../libraries/bootstrap/js/bootstrap.min.js"></script>

    <script>
        $(function(){
            $("#navbar").load("navbar.html");
        });
    </script>
    <link rel="stylesheet" type="text/css" href="../libraries/bootstrap/css/bootstrap.min.css">
    <style>
        td {
            padding:5px;
        }
    </style>
</head>
<body>
<div id="navbar"></div>
<div class="container">
    <div class="jumbotron" style="text-align: center;">
        <h1>Body Fat Percentage Calculator</h1>
    </div>
    <div class="row">
        <div class="col-md-offset-3 col-md-8">
            <table>
                <tr>
                    <td>
                        Gender:
                    </td>
                    <td>
                        <label for="sex1">
                            <input type="radio" name="genderType" id="sex1" checked>
                            Male
                        </label>
                    </td>
                    <td>
                        <label for="sex2">
                            <input type="radio" name="genderType" id="sex2">
                            Female
                        </label>
                    </td>
                </tr>
                <tr>
                    <td>
                        Height:
                    </td>
                    <td>
                        <input type="text"  id="hfeet"
                               style="text-align: right;">
                        feet
                    </td>
                    <td>
                        <input type="text" id="hinch"
                               style="text-align: right;">
                        inches
                    </td>
                </tr>
                <tr>
                    <td>
                        Neck:
                    </td>
                    <td>
                        <input type="text" id="nfeet"
                               style="text-align: right;">
                        feet
                    </td>
                    <td>
                        <input type="text"  id="ninch"
                               style="text-align: right;">
                        inches
                    </td>
                </tr>
                <tr>
                    <td>
                        Waist:
                    </td>
                    <td>
                        <input type="text" id="wfeet" style="text-align: right;">
                        feet
                    </td>
                    <td>
                        <input type="text" id="winch" style="text-align: right;">
                        inches
                    </td>
                </tr>
                <tr id="hipRow" hidden>
                    <td>
                        Hip:
                    </td>
                    <td>
                        <input type="text" id="hipfeet" style="text-align: right">
                        feet
                    </td>
                    <td>
                        <input type="text" id="hipinch" style="text-align: right;">
                        inches
                    </td>
                </tr>
            </table>
            <input type="button" value="Calculate!"  class="btn btn-default" onclick="calculateBodyFat()">
        </div>
    </div>
</div>
</body>

<script>
    /**
     * Created by joshua on 3/28/2015.
     */
    var hipRow = document.getElementById("hipRow");

    $('#sex2').click(function(e) {
        hipRow.hidden = false;
    });

    $('#sex1').click(function(e) {
        hipRow.hidden = true;
    });

    function calculateBodyFat() {
        var isMale = document.getElementById("sex1").checked;
        var heightFeet = document.getElementById("hfeet").value;
        var heightInches = document.getElementById("hinch").value;
        var neckFeet = document.getElementById("nfeet").value;
        var neckInches = document.getElementById("ninch").value;
        var waistFeet = document.getElementById("wfeet").value;
        var waistInches = document.getElementById("winch").value;
        var hipFeet = document.getElementById("hipfeet").value;
        var hipInches = document.getElementById("hipinch").value;

        if (isMale) {
            var waistNeck = Math.log(waistFeet - neckFeet) / Math.log(10);
            var height = Math.log(heightFeet) / Math.log(10);
            var sum = 1.0324 - (0.19077 * waistNeck) + (0.15456 * height);
            var bodyFat = (495 / sum) - 450;
            bodyFat = bodyFat.toFixed(1);
            alert(bodyFat);
        } else {
            var waistHipNeck = Math.log(parseInt(waistFeet) + parseInt(hipFeet) - neckFeet) / Math.log(10);
            var height = Math.log(heightFeet) / Math.log(10);
            var sum = 1.29579 - (0.35004 * waistHipNeck) + (0.22100 * height);
            var bodyFat = (495 / sum) - 450;
            bodyFat = bodyFat.toFixed(1);
            alert(bodyFat);
        }
    }
</script>
</html>